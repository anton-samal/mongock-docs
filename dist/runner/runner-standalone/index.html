<h1 id="getting-started"><a class="header-anchor" href="#getting-started">#</a> Getting Started</h1>
<p><div class="table-of-contents"><h2>Table of Contents</h2><ul><li><a href="#sign-up">Sign up</a></li><li><a href="#installation">Installation</a></li><li><a href="#authentication">Authentication</a></li><li><a href="#testing">Testing</a></li></ul></div></p>
<h2 id="sign-up"><a class="header-anchor" href="#sign-up">#</a> Sign up</h2>
<p>The shutter.sh service is currently in closed alpha testing. You will need an invitation to use it until the service goes public.</p>
<p>If you would like to get invited, just ping us on <a href="https://twitter.com/shuttersh">Twitter</a> or check out our <a href="https://shutter.sh/">website</a> for other ways to get in touch.</p>
<h2 id="installation"><a class="header-anchor" href="#installation">#</a> Installation</h2>
<p>Open a terminal and go to your working project's directory to install the packages.</p>
<pre class="language-bash"><code class="language-bash"><div class="highlight-line">$ <span class="token function">yarn</span> <span class="token function">add</span> --dev shutter @shutter/react</div></code></pre>
<p>The <code>shutter</code> package is the CLI tool that does authentication and snapshot updates. The <code>@shutter/react</code> package contains the React component snapshotting functionality.</p>
<p>Make sure that you installed <code>react</code> and <code>react-dom</code>:</p>
<pre class="language-bash"><code class="language-bash"><div class="highlight-line">$ <span class="token function">yarn</span> <span class="token function">add</span> react react-dom</div></code></pre>
<p>Use your favorite test runner to write the tests, like Jest, AVA, Mocha, Tape ... The test examples that follow in this guide will be written using the Mocha / Jest API, since it is the most widely known one.</p>
<h2 id="authentication"><a class="header-anchor" href="#authentication">#</a> Authentication</h2>
<p>Log in using your GitHub account:</p>
<pre class="language-bash"><code class="language-bash"><div class="highlight-line"><span class="token comment"># `npx` comes with npm and will run shutter from ./node_modules/.bin/shutter</span></div><div class="highlight-line">$ npx shutter login</div></code></pre>
<p>Your authentication token has now been saved to a <code>.shutterrc</code> file and we are ready to get productive.</p>
<div class="alert alert-warning" markdown="1">
**Security Note:** Keep your authentication token private. Don't commit it and don't share it, treat it like a password.
</div>
<h2 id="testing"><a class="header-anchor" href="#testing">#</a> Testing</h2>
<p>Let's write a first visual snapshot test! We will just render some static HTML / CSS content for now.</p>
<p>Start by creating a test project and installing the basic dependencies:</p>
<pre class="language-bash"><code class="language-bash"><div class="highlight-line">$ <span class="token function">mkdir</span> shutter-test</div><div class="highlight-line">$ <span class="token builtin class-name">cd</span> shutter-test</div><div class="highlight-line"></div><div class="highlight-line">$ <span class="token builtin class-name">echo</span> <span class="token string">"{}"</span> <span class="token operator">></span> package.json</div><div class="highlight-line">$ <span class="token function">npm</span> <span class="token function">install</span> @shutter/core</div></code></pre>
<p>Let's create a simple script file <code>button.js</code> to render a simple button:</p>
<pre class="language-js"><code class="language-js"><div class="highlight-line"><span class="token comment">// button.js</span></div><div class="highlight-line"></div><div class="highlight-line"><span class="token keyword">const</span> createShutter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@shutter/core'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default</div><div class="highlight-line"></div><div class="highlight-line"><span class="token keyword">const</span> shutter <span class="token operator">=</span> <span class="token function">createShutter</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">)</span></div><div class="highlight-line"></div><div class="highlight-line"><span class="token keyword">const</span> <span class="token function-variable function">main</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></div><div class="highlight-line">  <span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"></div><div class="highlight-line">    &lt;button class="btn">Click here!&lt;/button></div><div class="highlight-line">    &lt;style></div><div class="highlight-line">      button.btn {</div><div class="highlight-line">        padding: 0 40px;</div><div class="highlight-line">        height: 38.4px;</div><div class="highlight-line">        line-height: 38.4px;</div><div class="highlight-line">        background: #00A1CB;</div><div class="highlight-line">        border: none;</div><div class="highlight-line">        border-radius: 3px;</div><div class="highlight-line">        color: #FFFFFF;</div><div class="highlight-line">        cursor: pointer;</div><div class="highlight-line">        font-family: "Helvetica Neue Light","Helvetica Neue",Arial,sans-serif;</div><div class="highlight-line">        font-size: 18px;</div><div class="highlight-line">        font-weight: 300;</div><div class="highlight-line">        text-decoration: none;</div><div class="highlight-line">      }</div><div class="highlight-line">    &lt;/style></div><div class="highlight-line">  </span><span class="token template-punctuation string">`</span></span></div><div class="highlight-line"></div><div class="highlight-line">  <span class="token keyword">await</span> shutter<span class="token punctuation">.</span><span class="token function">snapshot</span><span class="token punctuation">(</span><span class="token string">'Button'</span><span class="token punctuation">,</span> html<span class="token punctuation">)</span></div><div class="highlight-line">  <span class="token keyword">await</span> shutter<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="highlight-line"><span class="token punctuation">}</span></div><div class="highlight-line"></div><div class="highlight-line"><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span></div><div class="highlight-line">  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span></div><div class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span></div></code></pre>
<p>We can now run our little script to render the button.</p>
<pre class="language-bash"><code class="language-bash"><div class="highlight-line">$ node button.js</div></code></pre>
<p>The output should look similar to that:</p>
<pre><code>Shutter ran 1 tests âœ”
Inspect the snapshots at &lt;https://shutter.sh/snapshot-set/KyCa50DaCBqI&gt;
</code></pre>
<p>Follow the link in the console output to inspect the rendered button in your browser. Also note that a file <code>snapshots/button.png</code> has just been created. It is a local copy of the rendered button snapshot that will be used for future regression testing.</p>
<p>Congratulations, you are now up and running!</p>
